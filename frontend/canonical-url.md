[‚Üê –ü—Ä–∏–º–µ—Ä—ã Razor Pages](/README.md)  

# Canonical url - –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã

## –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ Index –∏ / (—Å–ª–µ—à)
–°—Ç–∞–¥–∞—Ä—Ç–Ω–æ Razor Pages –∏—Å–ø–æ–ª—å–∑—É—é—Ç Index –∫–∞–∫ –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –≤ URL. –ù–æ, –µ—Å–ª–∏ –≤—ã –µ–≥–æ —É–∫–∞–∂–µ—Ç–µ, —Ç–æ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è —Ç–∞ –∂–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü - –∫–æ–≥–¥–∞ –ø–æ —Ä–∞–∑–Ω—ã–º –∞–¥—Ä–µ—Å–∞–º –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞. –¢–æ –∂–µ —Å–∞–º–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏ —É–∫–∞–∑–∞—Ç—å —Å–ª–µ—à –≤ –∫–æ–Ω—Ü–µ url.

–ß—Ç–æ–±—ã –ø—Ä–µ–¥–æ–≤—Ä–∞—Ç–∏—Ç—å —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –¥–æ–±–∞–≤—å—Ç–µ –≤ _Startup.cs_ –≤ –º–µ—Ç–æ–¥  `Configure(IApplicationBuilder app, IWebHostEnvironment env)` –ø–µ—Ä–µ–¥ `app.UseStaticFiles();` —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:
```
//–ü–†–ï–î–í–ê–†–ò–¢–ï–õ–¨–ù–û:
var rewriteOptions = new RewriteOptions()
     .AddRedirect("(.*)/$", "$1")    //—É–±–∏—Ä–∞–µ–º —Å–ª–µ–∂ –≤ –∫–æ–Ω—Ü–µ –∞–¥—Ä–µ—Å–∞
     .AddRedirect("((?i)(index))$", "/");  //—É–±–∏—Ä–∞–µ–º –¥—É–±–ª–∏–∫–∞—Ç —Å—Ç–∞—Ä—Ç–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã; (?i) —ç—Ç–æ ignorecase
app.UseRewriter(rewriteOptions);
```
–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º–µ–Ω `using Microsoft.AspNetCore.Rewrite;`
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Index –Ω–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ url.  
üìò [–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è URL-–∞–¥—Ä–µ—Å–æ–≤ –≤ ASP.NET Core](https://docs.microsoft.com/ru-ru/aspnet/core/fundamentals/url-rewriting?view=aspnetcore-3.1)

* **–ö–∞–∫ –æ—Ç–≤–µ—á–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä**  
–ü–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –µ—Å–ª–∏ –≤–≤–µ—Å—Ç–∏ –≤ url —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∏ —Å–ª–µ—à –≤ –∫–æ–Ω—Ü–µ. –î–ª—è —ç—Ç–æ–≥–æ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –±—Ä–æ—É–∑–µ—Ä–∞, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –Ω–∞–∂–∞—Ç—å F12, –≤–∫–ª–∞–¥–∫–∞ [Network]

<p align="center">
     <img src="img/redirect-index.jpg" width="1196" alt="">
</p>

–ú—ã –≤–∏–¥–∏–º, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –ø—ã—Ç–∞–ª—Å—è –æ—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É _index/_ —Å–æ —Å–ª–µ—à–µ–º, –ø–æ—Ç–æ–º –ø—Ä–æ—Å—Ç–æ _index_, –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º –∫–æ—Ä–Ω–µ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É. –í–æ –≤—Ä–µ–º—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫–æ–¥ 302, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ç–∞–∫–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞–∫ –±—ã –µ—Å—Ç—å, –Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∞. –î–ª—è –ø–æ–∏—Å–∫–æ–≤–æ–≥–æ —Ä–æ–±–æ—Ç–∞, —ç—Ç–æ —Å–∏–≥–Ω–∞–ª –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–∑–∂–µ, –∞ –Ω–µ –ø–æ—è–≤–∏–ª–∞—Å—å –ª–∏ —Ç–∞–∫–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–Ω–æ–≤–∞.  

* **–†–µ–¥–∏—Ä–µ–∫—Ç 301**  
–î–∞–≤—ã–π—Ç–µ —Ç–µ–ø—Ä—å —Å–æ–∫—Ä–∞—Ç–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ –¥–ª—è _index_ —Å—Ç—Ä–∞–Ω–∏—Ü –¥–æ –æ–¥–Ω–æ–≥–æ, –∏ —Å–¥–µ–ª–∞–µ–º —ç—Ç–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç —Å –∫–æ–¥–æ–º 301 - –¥–ª—è –ø–æ–∏—Å–∫–æ–≤–∏–∫–∞ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–µ–ø–µ—Ä—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ —ç—Ç–æ–º—É –∞–¥—Ä–µ—Å—É, –∏ –≤—Å—ë —Ö–æ—Ä–æ—à–µ–µ, —á—Ç–æ –±—ã–ª–æ —Å–≤—è–∑–∞–Ω–æ —Å —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–æ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤–Ω–µ—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏, –Ω–∞–¥–æ —Ç–µ–ø–µ—Ä—å —Å–≤—è–∑–∞—Ç—å —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π.

```
var rewriteOptions = new RewriteOptions()
    .AddRedirect("(.*)(/index/*)$", "$1", 301)  //—É–±–∏—Ä–∞–µ–º –≤–µ–∑–¥–µ –¥—É–±–ª–∏–∫–∞—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é;
    .AddRedirect("(.*)/$", "$1", 301);    //—É–±–∏—Ä–∞–µ–º —Å–ª–µ–∂ –≤ –∫–æ–Ω—Ü–µ –∞–¥—Ä–µ—Å–∞ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
```
–ó–¥–µ—Å—å –º—ã —Å–Ω–∞—á–∞–ª–∞ —É–¥–∞–ª—è–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–º–µ—Å—Ç–µ —Å–æ —Å–ª–µ—à–µ–º, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å. –î–ª—è –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü, –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª—è–µ—Ç —Å–ª–µ—à –≤ –∫–æ–Ω—Ü–µ.  
üü° –í–ù–ò–ú–ê–ù–ò–ï: –í –¥–∞–Ω–Ω–æ–º –∫–æ–¥–µ –≤–µ–∑–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è 301 —Ä–µ–¥–∏—Ä–µ–∫—Ç, –Ω–æ —ç—Ç–æ –Ω–∞–¥–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —É–∂–µ **–Ω–∞ —Ä–∞–±–æ—á–µ–º —Å–µ—Ä–≤–µ—Ä–µ**, –≤–æ–∑–º–æ–∂–Ω–æ, –µ–º—É, –Ω–∞–æ–±–æ—Ä–æ—Ç —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–ª–µ—à –≤ –∫–æ–Ω—Ü–µ - —Ç–æ–≥–¥–∞ –Ω–∞–¥–æ –±—É–¥—É—Ç –ø–æ–¥–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ—Ç –∫–æ–¥.  

–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–±–æ—Ç—É –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –∏ –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É. –ê–¥—Ä–µ—Å –≤ —Ç–∞–∫–æ–π —Å—Å—ã–ª–∫–µ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ —Å–ª–µ—à `href="/"`- –ø—Ä–æ–≤–µ—Ä—Ç–µ, —á—Ç–æ **–≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤** - —ç—Ç–æ –≤–∞–∂–Ω–æ, —á—Ç–æ–±—ã –≤–∞—à —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–∞–π—Ç –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –æ—à–∏–±–æ—á–Ω—ã–µ —Å—Å—ã–ª–∫–∏.

üìò [–Ø–∑—ã–∫ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π ‚Äî –∫—Ä–∞—Ç–∫–∏–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫](https://docs.microsoft.com/ru-ru/dotnet/standard/base-types/regular-expression-language-quick-reference?view=netframework-4.8)  
üü© [Regex Tester - –æ–Ω–ª–∞–π–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π](http://regexstorm.net/tester)

## –ó–∞–º–µ–Ω–∞ URL –¥–ª—è IIS
–≠—Ç–æ –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–±. –° –µ–≥–æ –ø–æ–º–æ—â—å—é –º—ã –∏–∑–±–∞–≤–∏–º—Å—è –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ —Å–∞–π—Ç–∞ —Å 'www'.

‚öó –≥–æ—Ç–æ–≤–∏—Ç—Å—è:)

üîñ –ü–æ–∫–∞ –∑–∞–∫–ª–∞–¥–∫–∏:  
üìò [–Ø–Ω–¥–µ–∫—Å: –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã](https://yandex.ru/support/webmaster/robot-workings/canonical.html)  
üìò [Google: –ö–∞–∫ –∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è URL](https://support.google.com/webmasters/answer/139066?hl=ru)  
‚ñ´ [–ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫](https://seoprofy.ua/blog/optimizaciya-sajtov/rel-canonical)  
‚ñ´ [–ß—Ç–æ —Ç–∞–∫–æ–µ –∞—Ç—Ä–∏–±—É—Ç rel=‚Äúcanonical‚Äù, –∫–æ–≥–¥–∞ –∏ –∫–∞–∫ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?](https://siteclinic.ru/blog/technical-aspects/rel-canonical/)  
‚ñ´ [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ canonical: —á—Ç–æ —ç—Ç–æ, –∑–∞—á–µ–º –∏ –∫–∞–∫](https://1ps.ru/blog/dirs/2016/nastrojka-canonical-chto-eto-zachem-i-kak/)  
‚ñ´ [–°–ª–µ—à –≤ –∫–æ–Ω—Ü–µ URL - Search Console Community](https://support.google.com/webmasters/thread/6582004?hl=ru)  
‚ñ´ [–ß—Ç–æ –≤—ã–±—Ä–∞—Ç—å: —Å—Ç–∞–≤–∏—Ç—å –∏–ª–∏ –Ω–µ —Å—Ç–∞–≤–∏—Ç—å —Å–ª—ç—à –Ω–∞ –∫–æ–Ω—Ü–µ URL?](https://qna.habr.com/q/5626)  
‚ñ´ [–°–æ —Å–ª–µ—à–µ–º –∏–ª–∏ –±–µ–∑ –Ω–µ–≥–æ –Ω–∞ –∫–æ–Ω—Ü–µ ‚Äì –≤–æ—Ç –≤ —á–µ–º —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –≤–æ–ø—Ä–æ—Å‚Ä¶ - –®–∫–æ–ª–∞ –ø–æ–∏—Å–∫–æ–≤–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏](http://www.seoschool.ru/search-engine-optimization-seo/to-slash-or-not-to-slash-thats-a-server-header-question.html)  
‚ñ´ [–£–†–õ —Å–æ —Å–ª–µ—à–µ–º –∏–ª–∏ –±–µ–∑ - –ø–æ—á–µ–º—É –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–º–µ–Ω–Ω–æ —Ç–∞–∫?](http://imperacms.ru/docs/seo/url-slash-or-not)  
‚ñ´ [10 —Å–æ–≤–µ—Ç–æ–≤ –ø–æ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—é URL –¥–ª—è IIS](https://ruslany.net/2009/04/10-url-rewriting-tips-and-tricks/)   
‚ñ´ []()   
‚ñ´ []()   
