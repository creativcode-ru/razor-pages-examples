[‚Üê –ü—Ä–∏–º–µ—Ä—ã Razor Pages](/README.md)  

# Canonical url - –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã

## –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ Index –∏ / (—Å–ª–µ—à)
–°—Ç–∞–¥–∞—Ä—Ç–Ω–æ Razor Pages –∏—Å–ø–æ–ª—å–∑—É—é—Ç Index –∫–∞–∫ –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –≤ URL. –ù–æ, –µ—Å–ª–∏ –≤—ã –µ–≥–æ —É–∫–∞–∂–µ—Ç–µ, —Ç–æ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è —Ç–∞ –∂–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü - –∫–æ–≥–¥–∞ –ø–æ —Ä–∞–∑–Ω—ã–º –∞–¥—Ä–µ—Å–∞–º –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞. –¢–æ –∂–µ —Å–∞–º–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏ —É–∫–∞–∑–∞—Ç—å —Å–ª–µ—à –≤ –∫–æ–Ω—Ü–µ url.

–ß—Ç–æ–±—ã –ø—Ä–µ–¥–æ–≤—Ä–∞—Ç–∏—Ç—å —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –¥–æ–±–∞–≤—å—Ç–µ –≤ _Startup.cs_ –≤ –º–µ—Ç–æ–¥  `Configure(IApplicationBuilder app, IWebHostEnvironment env)` –ø–µ—Ä–µ–¥ `app.UseStaticFiles();` —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:
```
//–ü–†–ï–î–í–ê–†–ò–¢–ï–õ–¨–ù–û:
var rewriteOptions = new RewriteOptions()
     .AddRedirect("(.*)/$", "$1")    //—É–±–∏—Ä–∞–µ–º —Å–ª–µ–∂ –≤ –∫–æ–Ω—Ü–µ –∞–¥—Ä–µ—Å–∞
     .AddRedirect("((?i)(index))$", "/");  //—É–±–∏—Ä–∞–µ–º –¥—É–±–ª–∏–∫–∞—Ç —Å—Ç–∞—Ä—Ç–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã; (?i) —ç—Ç–æ ignorecase
app.UseRewriter(rewriteOptions);
```
–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º–µ–Ω `using Microsoft.AspNetCore.Rewrite;`  
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Index –Ω–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ url.  
üìò [–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è URL-–∞–¥—Ä–µ—Å–æ–≤ –≤ ASP.NET Core](https://docs.microsoft.com/ru-ru/aspnet/core/fundamentals/url-rewriting?view=aspnetcore-3.1)

* **–ö–∞–∫ –æ—Ç–≤–µ—á–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä**  
–ü–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –µ—Å–ª–∏ –≤–≤–µ—Å—Ç–∏ –≤ url —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∏ —Å–ª–µ—à –≤ –∫–æ–Ω—Ü–µ. –î–ª—è —ç—Ç–æ–≥–æ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –±—Ä–æ—É–∑–µ—Ä–∞, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –Ω–∞–∂–∞—Ç—å F12, –≤–∫–ª–∞–¥–∫–∞ [Network]

<p align="center">
     <img src="img/redirect-index.jpg" width="1196" alt="">
</p>

–ú—ã –≤–∏–¥–∏–º, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –ø—ã—Ç–∞–ª—Å—è –æ—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É _index/_ —Å–æ —Å–ª–µ—à–µ–º, –ø–æ—Ç–æ–º –ø—Ä–æ—Å—Ç–æ _index_, –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º –∫–æ—Ä–Ω–µ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É. –í–æ –≤—Ä–µ–º—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫–æ–¥ 302, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ç–∞–∫–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞–∫ –±—ã –µ—Å—Ç—å, –Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∞. –î–ª—è –ø–æ–∏—Å–∫–æ–≤–æ–≥–æ —Ä–æ–±–æ—Ç–∞, —ç—Ç–æ —Å–∏–≥–Ω–∞–ª –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–∑–∂–µ, –∞ –Ω–µ –ø–æ—è–≤–∏–ª–∞—Å—å –ª–∏ —Ç–∞–∫–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–Ω–æ–≤–∞.  
üìò [–ö–∞–∫ –Ø–Ω–¥–µ–∫—Å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏—Ö–æ—Å—Ç–æ–≤—ã–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã?](https://yandex.ru/support/webmaster/robot-workings/managing-redirects.html#internal-redirects)  
üìò [–Ø–Ω–¥–µ–∫—Å: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü](https://yandex.ru/support/webmaster/robot-workings/double.html)  

* **–†–µ–¥–∏—Ä–µ–∫—Ç 301**  
–î–∞–≤—ã–π—Ç–µ —Ç–µ–ø–µ—Ä—å —Å–æ–∫—Ä–∞—Ç–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ –¥–ª—è _index_ —Å—Ç—Ä–∞–Ω–∏—Ü –¥–æ –æ–¥–Ω–æ–≥–æ, –∏ —Å–¥–µ–ª–∞–µ–º —ç—Ç–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç —Å –∫–æ–¥–æ–º 301 - –¥–ª—è –ø–æ–∏—Å–∫–æ–≤–∏–∫–∞ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–µ–ø–µ—Ä—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ —ç—Ç–æ–º—É –∞–¥—Ä–µ—Å—É, –∏ –≤—Å—ë —Ö–æ—Ä–æ—à–µ–µ, —á—Ç–æ –±—ã–ª–æ —Å–≤—è–∑–∞–Ω–æ —Å —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–æ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤–Ω–µ—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏, –Ω–∞–¥–æ —Ç–µ–ø–µ—Ä—å —Å–≤—è–∑–∞—Ç—å —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π.

```
var rewriteOptions = new RewriteOptions()
    .AddRedirect("(.*)/index/*$", "$1", 301)  //—É–±–∏—Ä–∞–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
    .AddRedirect("(.*)index/*$", "$1", 301)  //—É–±–∏—Ä–∞–µ–º –¥—É–±–ª–∏–∫–∞—Ç –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é;
    .AddRedirect("(.*)/$", "$1", 301);    //—É–±–∏—Ä–∞–µ–º —Å–ª–µ–∂ –≤ –∫–æ–Ω—Ü–µ –∞–¥—Ä–µ—Å–∞ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü 
```
–ó–¥–µ—Å—å –º—ã —Å–Ω–∞—á–∞–ª–∞ —É–¥–∞–ª—è–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–º–µ—Å—Ç–µ —Å–æ —Å–ª–µ—à–µ–º, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å. –î–ª—è –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü, –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª—è–µ—Ç —Å–ª–µ—à –≤ –∫–æ–Ω—Ü–µ.  
–í–æ–∑–º–æ–∂–Ω–æ –µ—Å—Ç—å –±–æ–ª–µ–µ —É–¥–∞—á–Ω–æ–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ, —á—Ç–æ–±—ã –Ω–µ –¥–æ–±–∞–≤–ª—è—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é —Å—Ç—Ä–æ–∫—É –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –í—ã—Ä–∞–∂–µ–Ω–∏–µ `/*index/*` –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–ª—è —Å—Ç–∞—Ä—Ç–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–æ–¥–∏–ª–æ—Å—å –¥–ª—è –∞–¥—Ä–µ—Å–æ–≤ `http://localhost:64524/canonical/index/` –∏ `http://localhost:64524/index/`. –ü—Ä–∏—á–µ–º —Ä–µ–¥–∏—Ä–µ–∫—Ç —Ö–æ—Ç–µ–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω.

‚úî –í–ù–ò–ú–ê–ù–ò–ï: –í –¥–∞–Ω–Ω–æ–º –∫–æ–¥–µ –≤–µ–∑–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è 301 —Ä–µ–¥–∏—Ä–µ–∫—Ç, –Ω–æ —ç—Ç–æ –Ω–∞–¥–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —É–∂–µ **–Ω–∞ —Ä–∞–±–æ—á–µ–º —Å–µ—Ä–≤–µ—Ä–µ**, –≤–æ–∑–º–æ–∂–Ω–æ, –µ–º—É, –Ω–∞–æ–±–æ—Ä–æ—Ç —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–ª–µ—à –≤ –∫–æ–Ω—Ü–µ - —Ç–æ–≥–¥–∞ –Ω–∞–¥–æ –±—É–¥—É—Ç –ø–æ–¥–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ—Ç –∫–æ–¥.  

–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–±–æ—Ç—É –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –∏ –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É. –ê–¥—Ä–µ—Å –≤ —Ç–∞–∫–æ–π —Å—Å—ã–ª–∫–µ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ —Å–ª–µ—à `href="/"`- –ø—Ä–æ–≤–µ—Ä—Ç–µ, —á—Ç–æ **–≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤** - —ç—Ç–æ –≤–∞–∂–Ω–æ, —á—Ç–æ–±—ã –≤–∞—à —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–∞–π—Ç –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –æ—à–∏–±–æ—á–Ω—ã–µ —Å—Å—ã–ª–∫–∏.

üìò [–Ø–∑—ã–∫ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π ‚Äî –∫—Ä–∞—Ç–∫–∏–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫](https://docs.microsoft.com/ru-ru/dotnet/standard/base-types/regular-expression-language-quick-reference?view=netframework-4.8)  
üîñ [Regex Tester - –æ–Ω–ª–∞–π–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π](http://regexstorm.net/tester)

## –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ WWW –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –∞–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞

–î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∞–¥—Ä–µ—Å —Å–∞–π—Ç–∞, —Å WWW –∏–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç –±–µ–∑ –Ω–µ–≥–æ, –∏ –ø—Ä–∏ –Ω–∞–±–æ—Ä–µ –¥—É–±–ª–∏–∫–∞—Ç–∞, –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 301 —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –∞–¥—Ä–µ—Å.   –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –∫–æ–≥–¥–∞ –≤—ã —Ä–∞–∑–º–µ—â–∞–µ—Ç–µ —Å–∞–π—Ç —É —Ö–æ—Å—Ç–∏–Ω–≥ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ–∫–æ—Ç–æ—Ä—ã–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å —Å–∞–π—Ç–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏–∏ –≤ Azure —É –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞ –ø–æ—è–≤–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∞–¥—Ä–µ—Å –Ω–∞–ø–æ–¥–æ–±–∏–∏ _{–Ω–µ–∫–æ—Ç–æ—Ä–æ–µ_—É–Ω–∏–∫–∞–ª—å–Ω–æ–µ_–∏–º—è}.azurewebsites.net_. –£ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∏–º—è –º–æ–∂–µ—Ç –±—ã—Ç—å –¥—Ä—É–≥–∏–º, –Ω–æ, –≥–ª–∞–≤–Ω–æ–µ - –ø–æ —ç—Ç–æ–º—É –∞–¥—Ä–µ—Å—É –≤–∞—à —Å–∞–π—Ç –±—É–¥–µ—Ç —Ç–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–µ–Ω, –∏ –µ—Å–ª–∏ –≤—ã –Ω–∞–¥–µ–µ—Ç–µ—Å—å, —á—Ç–æ —ç—Ç–æ –∏–º—è –Ω–∏–∫—Ç–æ –Ω–µ —É–∑–Ω–∞–µ—Ç, —Ç–æ –Ω–∞ –ø—Ä–∞—Ç–∏–∫–µ —ç—Ç–æ –Ω–µ —Ç–∞–∫.

* **–ü–µ—Ä–µ–∑–∞–ø–∏—Å—å URL –Ω–∞ IIS**  
–î–∞–≤–∞–π—Ç–µ –∏–∑–±–∞–≤–∏–º—Å—è –æ—Ç —ç—Ç–∏—Ö –¥—É–±–ª–∏–∫–∞—Ç–æ–≤, –Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º - —Å –ø–æ–º–æ—â—å—é —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è IIS, —Ç–æ–≥–¥–∞ —Ç–∞–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—å—Å—è —Å–µ—Ä–≤–µ—Ä–æ–º, –∏ –¥–∞–∂–µ –Ω–µ –ø–æ–ø–∞–¥—É—Ç—å –≤ –Ω–∞—à—É –ø—Ä–æ–≥—Ä–∞–º–º—É - –∏ —ç—Ç–æ –±—ã—Å—Ç—Ä–µ–µ.

–î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª –≤–µ–± –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏  _web.config_ –≤ –ø—Ä–æ–µ–∫—Ç.  
(–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –æ–Ω –Ω–∞—Ö–æ–¥–∏—Å—è –≤ —Ä–∞–∑–¥–µ–ª–µ Visual _C# > ASP.NET Core > –í–µ–± > ASP.NET_)

```
<configuration>
  <system.webServer>
    <rewrite>
      <rules>
        <rule name="Redirect SITEname" patternSyntax="ECMAScript" stopProcessing="true">
          <match url=".*"/>
          <conditions logicalGrouping="MatchAny">
            <add input="{HTTP_HOST}" pattern="^hosting-site-name.azurewebsites.net$" />
            <add input="{HTTP_HOST}" pattern="^www\.(.*)$" />
          </conditions>
          <action type="Redirect" url="http://site.ru/{R:0}" redirectType="Permanent"/>
        </rule>
      </rules>
    </rewrite>
  </system.webServer>
</configuration>
```
–≠—Ç–æ –≤—Å–µ –Ω–∞–¥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–≤–æ–µ–º —Å–µ—Ä–≤–µ—Ä–µ - —Ç–∞–º –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞. –õ–∏—á–Ω–æ —è –æ–±—Ö–æ–∂—É—Å—å –±–µ–∑ –ø—Ä–∞–≤–∏–ª–∞ 
```
<add input="{HTTP_HOST}" pattern="^www\.(.*)$" />
```
–∞ –≤ –ø—Ä–∞–≤–∏–ª–µ 
```
 <add input="{HTTP_HOST}" pattern="^hosting-site-name.azurewebsites.net$" />
 –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å
 <add input="{HTTP_HOST}" pattern="^hosting-site-name.azurewebsites.net(.*)$" />
```
–Ω–æ –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –Ω–∞–¥–æ, –∏ —Å–µ—Ä–≤–µ—Ä –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–≤–µ—á–∞–µ—Ç 301 —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–º –Ω–∞ –∫—Ä–∏–≤—ã–µ –∞–¥—Ä–µ—Å–∞.

üìò [–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –º–æ–¥—É–ª—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ URL, web.config](https://docs.microsoft.com/ru-ru/iis/extensions/url-rewrite-module/url-rewrite-module-configuration-reference)  
‚¨ú [10 —Å–æ–≤–µ—Ç–æ–≤ –ø–æ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—é URL –¥–ª—è IIS](https://ruslany.net/2009/04/10-url-rewriting-tips-and-tricks/) 

## –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã, rel="canonical" 
–ú—ã –ø–æ—Ä–∞–±–æ—Ç–∞–ª–∏ –Ω–∞–¥ —É—Å—Ç—Ä–∞–Ω–Ω–∏–µ–º –¥—É–±–ª–µ–π, —Ç–µ–ø–µ—Ä—å –ø–æ—Ä–∞ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å, –∏ –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –¥–µ–ª–∞—Ç—å —ç—Ç–æ –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ.  
–î–æ–±–∞–≤—å—Ç–µ –≤ —Ñ–∞–π–ª __Layout.cshtml_ –≤ —Å–∞–º–æ–µ –Ω–∞—á–∞–ª–æ –∫–æ–¥, —Ñ–æ—Ä–º–∏—Ä—É—é—â–∏–π –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
```
@{
    //–ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∞—è —Å—Å—ã–ª–∫–∞
    string path = Context.Request.Path.HasValue ? Context.Request.Path.Value.ToLower().TrimEnd('/') : string.Empty;
    if (path.EndsWith("/index")) path = path.Remove(path.Length - 6); //–∏–∑–±—ã—Ç–æ—á–Ω–æ: –ø–µ—Ä–µ—Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ –¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞
 }
```
–≠—Ç–æ—Ç –∫–æ–¥ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞, –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –∫–∞–∫ —Ä–∞–∑ —ç—Ç–æ –∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è, —Ö–æ—Ç—è –µ—Å—Ç—å –∏ —Å–≤–æ–π—Å—Ç–≤–æ `HttpRequest.QueryString` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞.  
üìò [–î–æ—Å—Ç—É–ø –∫ HttpContext –≤ ASP.NET Core](https://docs.microsoft.com/ru-ru/aspnet/core/fundamentals/http-context?view=aspnetcore-3.1)  
üìò [HttpRequest.Path](https://docs.microsoft.com/ru-ru/dotnet/api/system.web.httprequest.path?view=netframework-4.8)  

–¢–µ–ø–µ—Ä—å –¥–æ–±–∞–≤–∏–º –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –í —Ä–∞–∑–¥–µ–ª–µ `<head>`, –ø–æ—Å–ª–µ —Ç–µ–≥–∞ `<title>`:
```
 <link rel="canonical" href="http://site.ru@(path)">
```
–í–º–µ—Å—Ç–æ _http:// site.ru_ –ø–æ—Å—Ç–∞–≤—å—Ç–µ –¥–æ–º–µ–Ω –≤–∞—à–µ–Ω–æ —Å–∞–π—Ç–∞.  
üìò [–Ø–Ω–¥–µ–∫—Å: –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã](https://yandex.ru/support/webmaster/robot-workings/canonical.html#canonical__set-canonical)    

* –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:  
‚Ä¢ –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–≥–æ URL –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–∞–º–Ω–æ–≥–æ —á–∞—â–µ, —á–µ–º –µ–≥–æ –∫–æ–ø–∏–π.  
‚Ä¢ –ü—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ URL –≤ —Ñ–∞–π–ª–µ Sitemap. –ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ xml-–∫–∞—Ä—Ç—É —Å–∞–π—Ç–∞, —Ç–æ –≤–∫–ª—é—á–∏—Ç–µ —Ç—É–¥–∞ –≤—Å–µ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ url, –≤ —Ç–æ—á–Ω–æ—Å—Ç–∏ —Ç–∞–∫, –∫–∞–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ. –ò –Ω–∞–æ–±–æ—Ä–æ—Ç, –Ω–µ –≤–∫–ª—é—á–∞–π—Ç–µ –≤ —Ñ–∞–π–ª Sitemap –Ω–µ–∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.  

üìò [Google: –ö–∞–∫ –∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è URL](https://support.google.com/webmasters/answer/139066?hl=ru)  
‚¨ú [–ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫](https://seoprofy.ua/blog/optimizaciya-sajtov/rel-canonical)  

<br /><br />
<p align="center">
  –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –Ω–∞ –Ω–∞—à–∏—Ö <a  href="http://creativcode.ru/learn" target="_blank" >–≤–µ–± –∫—É—Ä—Å–∞—Ö –≤ –°–æ—á–∏, –ê–¥–ª–µ—Ä</a>:<br /><br />
   <a  href="http://creativcode.ru/learn/webnet" target="_blank" title="–ö—É—Ä—Å –≤–µ–± –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è .Net C#" >
  <img src="http://creativcode.ru/img/learn/net-frontend.jpg" width="400" alt="">
   </a>
</p>
