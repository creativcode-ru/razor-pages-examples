[‚Üê –ü—Ä–∏–º–µ—Ä—ã Razor Pages](/README.md)  

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫  

–í –≤—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—Ä–æ–µ–∫—Ç —É–∂–µ –≤–∫–ª—é—á–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, –¥–ª—è —ç—Ç–æ–≥–æ –≤ —Ñ–∞–π–ª–µ Startup.cs –≤–∫–ª—é—á–µ–Ω –∫–æ–¥:
```
if (env.IsDevelopment())
{
    app.UseDeveloperExceptionPage();
}
else
{
    app.UseExceptionHandler("/Error");
}
```
–≠—Ç–æ—Ç –∫–æ–¥ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –±—É–¥–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å—Å—è –ø–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –æ—à–∏–±–∫–∏, –∞ –≤ —Ä–µ–∂–∏–º–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏, –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –≤–∞—à–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ _/Pages/Error.cshtml_. –ü–µ—Ä–≤–æ–µ, —á—Ç–æ —Å—Ç–æ–∏—Ç —Å–¥–µ–ª–∞—Ç—å, —ç—Ç–æ –æ—Ñ–æ—Ä–º–∏—Ç—å –¥–∞–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞–¥–ª–µ–∂–∞—â–∏–º –æ–±—Ä–∞–∑–æ–º, –∏ —É–±–µ–¥–∏—Ç—Å—è, —á—Ç–æ –º–∞—Å—Ç–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Layout.cshtml –Ω–∏–∫–∞–∫ –Ω–µ –º–æ–∂–µ—Ç —è–≤–ª—è—Ç—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –æ—à–∏–±–æ–∫.  
–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –æ—Å—Ç–≤—å—Ç–µ —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É –∫–æ–¥–∞ `app.UseExceptionHandler("/Error");`, –∞ –≤ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—ã–∑–æ–≤–∏—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ 
```
public void OnGet()
{
    throw new Exception("–¢–µ—Å—Ç–∏—Ä–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—à–∏–±–∫–∏");
}
```

‚óª [–ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (learnrazorpages.com)](https://www.learnrazorpages.com/configuration/global-error-handling)  
üìò [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ ASP.NET Core](https://docs.microsoft.com/ru-ru/aspnet/core/fundamentals/error-handling?view=aspnetcore-3.1)  

# –°—Ç—Ä–∞–Ω–∏—Ü–∞ 404  
–ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É 404, –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –Ω–∞ —Å–∞–π—Ç–µ.  
–í –ø–∞–ø–∫–µ Pages, —Å–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É *Errors*, –∞ –≤ –Ω–µ–π —Å–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É _404.cshtml_. –ü—Ä–∏ —ç—Ç–æ–º –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω —Ñ–∞–π–ª —Å –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ–º —Å–ø–µ—Ä–µ–¥–∏ *_404.cshtml*, –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –µ–≥–æ, –Ω–æ –∏–º—è –∫–ª–∞—Å—Å–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—É—Å—Ç—å –æ—Å—Ç–∞–Ω–µ—Ç—Å—è  `public class _404Model : PageModel`, –ø–æ—Å–∫–æ–ª—å–∫—É –∏–º—è –∫–ª–∞—Å—Å–∞ –Ω–µ –º–æ–∂–µ—Ç –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å —Ü–∏—Ñ—Ä—ã.
 –î–∞–ª–µ–µ  –≤ —Ñ–∞–π–ª–µ Startup.cs –≤ –º–µ—Ç–æ–¥ *Configure* –≤—Å—Ç–∞–≤—å—Ç–µ –≤—ã–∑–æ–≤:
```
app.UseStatusCodePagesWithReExecute("/errors/{0}");
```
–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—ã–∑–æ–≤:
```
 public IActionResult OnGet()
{
        return NotFound();
}
```
**HTML –ö–æ–¥** –ø—Ä–æ—Å—Ç–µ–π—à–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã 404.cshtml:
```
@page
@model _–∏–º—è_–≤–∞—à–µ–≥–æ_–ø—Ä–æ–µ–∫—Ç–∞.Pages.Errors._404Model

<div class="page c-white m3">
    <h1>404</h1>
    <p class="mt2 c-blue">–î–∞–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç<br />–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–¥—Ä–µ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã:</p>
    <p class="h3">@Model.OriginalURL</p>
</div>
```
**–°# –∫–æ–¥:**
```
   public class _404Model : PageModel
    {
        public string OriginalURL { get; set; }
        public void OnGet()
        {
            var statusCode = HttpContext.Features.Get<IStatusCodeReExecuteFeature>();
            if (statusCode != null)
            {
                OriginalURL =
                    statusCode.OriginalPathBase
                    + statusCode.OriginalPath
                    + statusCode.OriginalQueryString;
            }
        }
    }
```

‚óª [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—à–∏–±–æ–∫ –Ω–∞ –≤–µ–±-—Å–∞–π—Ç–µ (learnrazorpages.com)](https://www.learnrazorpages.com/configuration/custom-errors)  
